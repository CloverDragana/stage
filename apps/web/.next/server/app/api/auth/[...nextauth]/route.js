/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/[...nextauth]/route";
exports.ids = ["app/api/auth/[...nextauth]/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("pg");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.js&appDir=%2FUsers%2Fhannahdragana%2Frepos%2Fstage%2Fapps%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhannahdragana%2Frepos%2Fstage%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.js&appDir=%2FUsers%2Fhannahdragana%2Frepos%2Fstage%2Fapps%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhannahdragana%2Frepos%2Fstage%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/../../node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_hannahdragana_repos_stage_apps_web_src_app_api_auth_nextauth_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/auth/[...nextauth]/route.js */ \"(rsc)/./src/app/api/auth/[...nextauth]/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/[...nextauth]/route\",\n        pathname: \"/api/auth/[...nextauth]\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/[...nextauth]/route\"\n    },\n    resolvedPagePath: \"/Users/hannahdragana/repos/stage/apps/web/src/app/api/auth/[...nextauth]/route.js\",\n    nextConfigOutput,\n    userland: _Users_hannahdragana_repos_stage_apps_web_src_app_api_auth_nextauth_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyL2luZGV4LmpzP25hbWU9YXBwJTJGYXBpJTJGYXV0aCUyRiU1Qi4uLm5leHRhdXRoJTVEJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQlMkZyb3V0ZS5qcyZhcHBEaXI9JTJGVXNlcnMlMkZoYW5uYWhkcmFnYW5hJTJGcmVwb3MlMkZzdGFnZSUyRmFwcHMlMkZ3ZWIlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGaGFubmFoZHJhZ2FuYSUyRnJlcG9zJTJGc3RhZ2UlMkZhcHBzJTJGd2ViJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNpQztBQUM5RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2hhbm5haGRyYWdhbmEvcmVwb3Mvc3RhZ2UvYXBwcy93ZWIvc3JjL2FwcC9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF1cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9oYW5uYWhkcmFnYW5hL3JlcG9zL3N0YWdlL2FwcHMvd2ViL3NyYy9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.js&appDir=%2FUsers%2Fhannahdragana%2Frepos%2Fstage%2Fapps%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhannahdragana%2Frepos%2Fstage%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!**********************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \**********************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!**********************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \**********************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/auth/[...nextauth]/route.js":
/*!*************************************************!*\
  !*** ./src/app/api/auth/[...nextauth]/route.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler),\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/../../node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/../../node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _stage_database__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @stage/database */ \"(rsc)/../../packages/database/src/index.js\");\n/* harmony import */ var _stage_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stage/auth */ \"(rsc)/../../packages/auth/src/index.js\");\n/* harmony import */ var _stage_auth__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_stage_auth__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/../../node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nconsole.log(\"Auth package loaded:\", !!_stage_auth__WEBPACK_IMPORTED_MODULE_3__.comparePassword);\nconst authOptions = {\n    session: {\n        strategy: 'jwt',\n        jwt: true\n    },\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            name: \"Credentials\",\n            credentials: {\n                username: {},\n                password: {}\n            },\n            async authorize (credentials) {\n                try {\n                    const dbClient = await _stage_database__WEBPACK_IMPORTED_MODULE_2__.db.connect();\n                    try {\n                        const dbQuery = await dbClient.query(`   SELECT *\n                            FROM users \n                            WHERE username = $1`, [\n                            credentials?.username\n                        ]);\n                        if (dbQuery.rows.length === 0) {\n                            console.error(\"User not found:\", credentials?.username);\n                            throw new Error(\"User does not exist\");\n                        }\n                        const user = dbQuery.rows[0];\n                        const correctPassword = await (0,_stage_auth__WEBPACK_IMPORTED_MODULE_3__.comparePassword)(credentials?.password || \"\", user.password);\n                        if (!correctPassword) {\n                            console.log(\"Password incorrect for user:\", credentials?.username);\n                            throw new Error(\"Password is incorrect\");\n                        }\n                        const returnUser = {\n                            userid: user.userid,\n                            username: user.username,\n                            email: user.email,\n                            fullname: user.fullname,\n                            gender: user.gender,\n                            dob: user.dob,\n                            personal_account: user.personal_account,\n                            professional_account: user.professional_account,\n                            profileType: user.profile_type // Use the stored profile_type\n                        };\n                        return returnUser;\n                    } finally{\n                        dbClient.release();\n                    }\n                } catch (error) {\n                    console.error(\"Detailed auth error:\", error);\n                    return null;\n                }\n            }\n        })\n    ],\n    callbacks: {\n        async jwt ({ token, user, trigger, session }) {\n            if (user) {\n                token.id = user.userid;\n                token.userId = user.userid;\n                token.username = user.username;\n                token.email = user.email;\n                token.fullname = user.fullname;\n                token.gender = user.gender;\n                token.dob = user.dob;\n                token.personal_account = user.personal_account;\n                token.professional_account = user.professional_account;\n                token.profileType = user.profileType;\n                token.accessToken = jsonwebtoken__WEBPACK_IMPORTED_MODULE_4___default().sign({\n                    id: user.userid,\n                    userId: user.userid,\n                    email: user.email,\n                    username: user.username\n                }, process.env.NEXTAUTH_SECRET, {\n                    expiresIn: '1d'\n                });\n            }\n            if (trigger === \"update\") {\n                // Update profile type if provided\n                if (session?.profileType) {\n                    token.profileType = session.profileType;\n                }\n                // Update account flags if provided\n                if (session?.personal_account !== undefined) {\n                    token.personal_account = session.personal_account;\n                }\n                if (session?.professional_account !== undefined) {\n                    token.professional_account = session.professional_account;\n                }\n                if (token.id || token.userId) {\n                    token.accessToken = jsonwebtoken__WEBPACK_IMPORTED_MODULE_4___default().sign({\n                        id: token.id || token.userId,\n                        userId: token.id || token.userId,\n                        email: token.email,\n                        username: token.username\n                    }, process.env.NEXTAUTH_SECRET, {\n                        expiresIn: '1d'\n                    });\n                }\n            }\n            if (token.id || token.userId) {\n                const userId = token.id || token.userId;\n                const dbClient = await _stage_database__WEBPACK_IMPORTED_MODULE_2__.db.connect();\n                try {\n                    const result = await dbClient.query(`SELECT userid, fullname, username, email, gender, dob, profile_type, personal_account, professional_account \n                        FROM users WHERE userid = $1`, [\n                        userId\n                    ]);\n                    if (result.rows[0]) {\n                        const freshUser = result.rows[0];\n                        token = {\n                            ...token,\n                            id: freshUser.userid,\n                            userId: freshUser.userid,\n                            username: freshUser.username,\n                            email: freshUser.email,\n                            fullname: freshUser.fullname,\n                            gender: freshUser.gender,\n                            dob: freshUser.dob,\n                            profileType: freshUser.profile_type,\n                            personal_account: freshUser.personal_account,\n                            professional_account: freshUser.professional_account\n                        };\n                        token.accessToken = jsonwebtoken__WEBPACK_IMPORTED_MODULE_4___default().sign({\n                            id: freshUser.userid,\n                            userId: freshUser.userid,\n                            email: freshUser.email,\n                            username: freshUser.username,\n                            profileType: freshUser.profile_type\n                        }, process.env.NEXTAUTH_SECRET, {\n                            expiresIn: '1d'\n                        });\n                    }\n                } finally{\n                    dbClient.release();\n                }\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (!session.user) session.user = {};\n            session.user = {\n                ...session.user,\n                id: token.id || token.userId || token.sub,\n                userId: token.id || token.userId || token.sub,\n                username: token.username,\n                email: token.email,\n                fullname: token.fullname,\n                gender: token.gender,\n                dob: token.dob,\n                profileType: token.profileType,\n                personal_account: token.personal_account,\n                professional_account: token.professional_account\n            };\n            session.accessToken = token.accessToken;\n            return session;\n        }\n    },\n    pages: {\n        signIn: '/login',\n        error: '/login'\n    }\n};\nconst handler = next_auth__WEBPACK_IMPORTED_MODULE_0___default()(authOptions);\n //purely for loggin in as the register api route works for inserting into table\n //next auth checks logging in \n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBaUM7QUFDaUM7QUFDN0I7QUFDdUI7QUFDN0I7QUFFL0JNLFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDSix3REFBZUE7QUFFOUMsTUFBTUssY0FBYztJQUN2QkMsU0FBUztRQUNMQyxVQUFVO1FBQ1ZMLEtBQUs7SUFDVDtJQUNBTSxXQUFXO1FBQ1BWLDJFQUFtQkEsQ0FBQztZQUNoQlcsTUFBTTtZQUNOQyxhQUFhO2dCQUNUQyxVQUFVLENBQUM7Z0JBQ1hDLFVBQVUsQ0FBQztZQUNmO1lBQ0EsTUFBTUMsV0FBVUgsV0FBVztnQkFFM0IsSUFBRztvQkFFQyxNQUFNSSxXQUFXLE1BQU1mLCtDQUFFQSxDQUFDZ0IsT0FBTztvQkFDakMsSUFBSTt3QkFFQSxNQUFNQyxVQUFVLE1BQU1GLFNBQVNHLEtBQUssQ0FDaEMsQ0FBQzs7K0NBRXNCLENBQUMsRUFDeEI7NEJBQUNQLGFBQWFDO3lCQUFTO3dCQUczQixJQUFJSyxRQUFRRSxJQUFJLENBQUNDLE1BQU0sS0FBSyxHQUFHOzRCQUMzQmhCLFFBQVFpQixLQUFLLENBQUMsbUJBQW1CVixhQUFhQzs0QkFDOUMsTUFBTSxJQUFJVSxNQUFNO3dCQUNwQjt3QkFFQSxNQUFNQyxPQUFPTixRQUFRRSxJQUFJLENBQUMsRUFBRTt3QkFFNUIsTUFBTUssa0JBQWtCLE1BQU12Qiw0REFBZUEsQ0FBQ1UsYUFBYUUsWUFBWSxJQUFJVSxLQUFLVixRQUFRO3dCQUV4RixJQUFJLENBQUNXLGlCQUFpQjs0QkFDbEJwQixRQUFRQyxHQUFHLENBQUMsZ0NBQWdDTSxhQUFhQzs0QkFDekQsTUFBTSxJQUFJVSxNQUFNO3dCQUNwQjt3QkFFQSxNQUFNRyxhQUFhOzRCQUNmQyxRQUFRSCxLQUFLRyxNQUFNOzRCQUNuQmQsVUFBVVcsS0FBS1gsUUFBUTs0QkFDdkJlLE9BQU9KLEtBQUtJLEtBQUs7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UUgsTUFBTUUsRUFBRSxJQUFJRixNQUFNRyxNQUFNLElBQUlILE1BQU1hLEdBQUc7Z0JBQzdDdEMsVUFBVXlCLE1BQU16QixRQUFRO2dCQUN4QmUsT0FBT1UsTUFBTVYsS0FBSztnQkFDbEJDLFVBQVVTLE1BQU1ULFFBQVE7Z0JBQ3hCQyxRQUFRUSxNQUFNUixNQUFNO2dCQUNwQkMsS0FBS08sTUFBTVAsR0FBRztnQkFDZEcsYUFBYUksTUFBTUosV0FBVztnQkFDOUJGLGtCQUFrQk0sTUFBTU4sZ0JBQWdCO2dCQUN4Q0Msc0JBQXNCSyxNQUFNTCxvQkFBb0I7WUFDcEQ7WUFFQXpCLFFBQVFrQyxXQUFXLEdBQUdKLE1BQU1JLFdBQVc7WUFFdkMsT0FBT2xDO1FBQ1g7SUFDSjtJQUNBNEMsT0FBTztRQUNIQyxRQUFRO1FBQ1IvQixPQUFPO0lBQ1g7QUFDSixFQUFFO0FBRUYsTUFBTWdDLFVBQVV2RCxnREFBUUEsQ0FBQ1E7QUFDa0IsQ0FHM0MsK0VBQStFO0NBRS9FLDhCQUE4QiIsInNvdXJjZXMiOlsiL1VzZXJzL2hhbm5haGRyYWdhbmEvcmVwb3Mvc3RhZ2UvYXBwcy93ZWIvc3JjL2FwcC9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOZXh0QXV0aCBmcm9tIFwibmV4dC1hdXRoXCI7XG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFsc1wiO1xuaW1wb3J0IHsgZGIgfSBmcm9tIFwiQHN0YWdlL2RhdGFiYXNlXCI7XG5pbXBvcnQgeyBjb21wYXJlUGFzc3dvcmQsIGhhc2hQYXNzd29yZCB9IGZyb20gXCJAc3RhZ2UvYXV0aFwiO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5jb25zb2xlLmxvZyhcIkF1dGggcGFja2FnZSBsb2FkZWQ6XCIsICEhY29tcGFyZVBhc3N3b3JkKTtcblxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zID0ge1xuICAgIHNlc3Npb246IHtcbiAgICAgICAgc3RyYXRlZ3k6ICdqd3QnLFxuICAgICAgICBqd3Q6IHRydWUsXG4gICAgfSxcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkNyZWRlbnRpYWxzXCIsXG4gICAgICAgICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB7fSxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDoge31cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcblxuICAgICAgICAgICAgdHJ5e1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgZGJDbGllbnQgPSBhd2FpdCBkYi5jb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYlF1ZXJ5ID0gYXdhaXQgZGJDbGllbnQucXVlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICBgICAgU0VMRUNUICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGUk9NIHVzZXJzIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdIRVJFIHVzZXJuYW1lID0gJDFgLFxuICAgICAgICAgICAgICAgICAgICAgICAgW2NyZWRlbnRpYWxzPy51c2VybmFtZV1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYlF1ZXJ5LnJvd3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVXNlciBub3QgZm91bmQ6XCIsIGNyZWRlbnRpYWxzPy51c2VybmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVc2VyIGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gZGJRdWVyeS5yb3dzWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvcnJlY3RQYXNzd29yZCA9IGF3YWl0IGNvbXBhcmVQYXNzd29yZChjcmVkZW50aWFscz8ucGFzc3dvcmQgfHwgXCJcIiwgdXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvcnJlY3RQYXNzd29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQYXNzd29yZCBpbmNvcnJlY3QgZm9yIHVzZXI6XCIsIGNyZWRlbnRpYWxzPy51c2VybmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXNzd29yZCBpcyBpbmNvcnJlY3RcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXR1cm5Vc2VyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcmlkOiB1c2VyLnVzZXJpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBmdWxsbmFtZTogdXNlci5mdWxsbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmRlcjogdXNlci5nZW5kZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2I6IHVzZXIuZG9iLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGVyc29uYWxfYWNjb3VudDogdXNlci5wZXJzb25hbF9hY2NvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmVzc2lvbmFsX2FjY291bnQ6IHVzZXIucHJvZmVzc2lvbmFsX2FjY291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlVHlwZTogdXNlci5wcm9maWxlX3R5cGUgLy8gVXNlIHRoZSBzdG9yZWQgcHJvZmlsZV90eXBlXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblVzZXI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgZGJDbGllbnQucmVsZWFzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1jYXRjaCAoZXJyb3Ipe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJEZXRhaWxlZCBhdXRoIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgXSxcbiAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIsIHRyaWdnZXIsIHNlc3Npb24gfSkge1xuICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICB0b2tlbi5pZCA9IHVzZXIudXNlcmlkO1xuICAgICAgICAgICAgICAgIHRva2VuLnVzZXJJZCA9IHVzZXIudXNlcmlkO1xuICAgICAgICAgICAgICAgIHRva2VuLnVzZXJuYW1lID0gdXNlci51c2VybmFtZTtcbiAgICAgICAgICAgICAgICB0b2tlbi5lbWFpbCA9IHVzZXIuZW1haWw7XG4gICAgICAgICAgICAgICAgdG9rZW4uZnVsbG5hbWUgPSB1c2VyLmZ1bGxuYW1lO1xuICAgICAgICAgICAgICAgIHRva2VuLmdlbmRlciA9IHVzZXIuZ2VuZGVyO1xuICAgICAgICAgICAgICAgIHRva2VuLmRvYiA9IHVzZXIuZG9iO1xuICAgICAgICAgICAgICAgIHRva2VuLnBlcnNvbmFsX2FjY291bnQgPSB1c2VyLnBlcnNvbmFsX2FjY291bnQ7XG4gICAgICAgICAgICAgICAgdG9rZW4ucHJvZmVzc2lvbmFsX2FjY291bnQgPSB1c2VyLnByb2Zlc3Npb25hbF9hY2NvdW50O1xuICAgICAgICAgICAgICAgIHRva2VuLnByb2ZpbGVUeXBlID0gdXNlci5wcm9maWxlVHlwZTtcblxuICAgICAgICAgICAgICAgIHRva2VuLmFjY2Vzc1Rva2VuID0gand0LnNpZ24oXG4gICAgICAgICAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogdXNlci51c2VyaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXIudXNlcmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxuICAgICAgICAgICAgICAgICAgICB9LCBcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULCBcbiAgICAgICAgICAgICAgICAgICAgeyBleHBpcmVzSW46ICcxZCcgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0cmlnZ2VyID09PSBcInVwZGF0ZVwiKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHByb2ZpbGUgdHlwZSBpZiBwcm92aWRlZFxuICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uPy5wcm9maWxlVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbi5wcm9maWxlVHlwZSA9IHNlc3Npb24ucHJvZmlsZVR5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBhY2NvdW50IGZsYWdzIGlmIHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgaWYgKHNlc3Npb24/LnBlcnNvbmFsX2FjY291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbi5wZXJzb25hbF9hY2NvdW50ID0gc2Vzc2lvbi5wZXJzb25hbF9hY2NvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbj8ucHJvZmVzc2lvbmFsX2FjY291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbi5wcm9mZXNzaW9uYWxfYWNjb3VudCA9IHNlc3Npb24ucHJvZmVzc2lvbmFsX2FjY291bnQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLmlkIHx8IHRva2VuLnVzZXJJZCkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbi5hY2Nlc3NUb2tlbiA9IGp3dC5zaWduKFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdG9rZW4uaWQgfHwgdG9rZW4udXNlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdG9rZW4uaWQgfHwgdG9rZW4udXNlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0b2tlbi5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdG9rZW4udXNlcm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgZXhwaXJlc0luOiAnMWQnIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0b2tlbi5pZCB8fCB0b2tlbi51c2VySWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VySWQgPSB0b2tlbi5pZCB8fCB0b2tlbi51c2VySWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZGJDbGllbnQgPSBhd2FpdCBkYi5jb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGJDbGllbnQucXVlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgICBgU0VMRUNUIHVzZXJpZCwgZnVsbG5hbWUsIHVzZXJuYW1lLCBlbWFpbCwgZ2VuZGVyLCBkb2IsIHByb2ZpbGVfdHlwZSwgcGVyc29uYWxfYWNjb3VudCwgcHJvZmVzc2lvbmFsX2FjY291bnQgXG4gICAgICAgICAgICAgICAgICAgICAgICBGUk9NIHVzZXJzIFdIRVJFIHVzZXJpZCA9ICQxYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFt1c2VySWRdXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJvd3NbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyZXNoVXNlciA9IHJlc3VsdC5yb3dzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGZyZXNoVXNlci51c2VyaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBmcmVzaFVzZXIudXNlcmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBmcmVzaFVzZXIudXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGZyZXNoVXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsbmFtZTogZnJlc2hVc2VyLmZ1bGxuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmRlcjogZnJlc2hVc2VyLmdlbmRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2I6IGZyZXNoVXNlci5kb2IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZVR5cGU6IGZyZXNoVXNlci5wcm9maWxlX3R5cGUsIC8vIE1ha2Ugc3VyZSB0aGlzIGlzIGluY2x1ZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyc29uYWxfYWNjb3VudDogZnJlc2hVc2VyLnBlcnNvbmFsX2FjY291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmVzc2lvbmFsX2FjY291bnQ6IGZyZXNoVXNlci5wcm9mZXNzaW9uYWxfYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4uYWNjZXNzVG9rZW4gPSBqd3Quc2lnbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZnJlc2hVc2VyLnVzZXJpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBmcmVzaFVzZXIudXNlcmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogZnJlc2hVc2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogZnJlc2hVc2VyLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlVHlwZTogZnJlc2hVc2VyLnByb2ZpbGVfdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBleHBpcmVzSW46ICcxZCcgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGRiQ2xpZW50LnJlbGVhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xuICAgICAgICAgICAgaWYgKCFzZXNzaW9uLnVzZXIpIHNlc3Npb24udXNlciA9IHt9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXNzaW9uLnVzZXIgPSB7XG4gICAgICAgICAgICAgICAgLi4uc2Vzc2lvbi51c2VyLFxuICAgICAgICAgICAgICAgIGlkOiB0b2tlbi5pZCB8fCB0b2tlbi51c2VySWQgfHwgdG9rZW4uc3ViLFxuICAgICAgICAgICAgICAgIHVzZXJJZDogdG9rZW4uaWQgfHwgdG9rZW4udXNlcklkIHx8IHRva2VuLnN1YixcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogdG9rZW4udXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IHRva2VuLmVtYWlsLFxuICAgICAgICAgICAgICAgIGZ1bGxuYW1lOiB0b2tlbi5mdWxsbmFtZSxcbiAgICAgICAgICAgICAgICBnZW5kZXI6IHRva2VuLmdlbmRlcixcbiAgICAgICAgICAgICAgICBkb2I6IHRva2VuLmRvYixcbiAgICAgICAgICAgICAgICBwcm9maWxlVHlwZTogdG9rZW4ucHJvZmlsZVR5cGUsIC8vIE1ha2Ugc3VyZSB0aGlzIGlzIGluY2x1ZGVkXG4gICAgICAgICAgICAgICAgcGVyc29uYWxfYWNjb3VudDogdG9rZW4ucGVyc29uYWxfYWNjb3VudCxcbiAgICAgICAgICAgICAgICBwcm9mZXNzaW9uYWxfYWNjb3VudDogdG9rZW4ucHJvZmVzc2lvbmFsX2FjY291bnQsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzZXNzaW9uLmFjY2Vzc1Rva2VuID0gdG9rZW4uYWNjZXNzVG9rZW47XG5cbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgICAgICB9XG4gICAgfSwgXG4gICAgcGFnZXM6IHtcbiAgICAgICAgc2lnbkluOiAnL2xvZ2luJyxcbiAgICAgICAgZXJyb3I6ICcvbG9naW4nXG4gICAgfVxufTtcblxuY29uc3QgaGFuZGxlciA9IE5leHRBdXRoKGF1dGhPcHRpb25zKTtcbmV4cG9ydCB7IGhhbmRsZXIgYXMgR0VULCBoYW5kbGVyIGFzIFBPU1QgfTtcblxuXG4vL3B1cmVseSBmb3IgbG9nZ2luIGluIGFzIHRoZSByZWdpc3RlciBhcGkgcm91dGUgd29ya3MgZm9yIGluc2VydGluZyBpbnRvIHRhYmxlXG5cbi8vbmV4dCBhdXRoIGNoZWNrcyBsb2dnaW5nIGluICJdLCJuYW1lcyI6WyJOZXh0QXV0aCIsIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJkYiIsImNvbXBhcmVQYXNzd29yZCIsImhhc2hQYXNzd29yZCIsImp3dCIsImNvbnNvbGUiLCJsb2ciLCJhdXRoT3B0aW9ucyIsInNlc3Npb24iLCJzdHJhdGVneSIsInByb3ZpZGVycyIsIm5hbWUiLCJjcmVkZW50aWFscyIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJkYkNsaWVudCIsImNvbm5lY3QiLCJkYlF1ZXJ5IiwicXVlcnkiLCJyb3dzIiwibGVuZ3RoIiwiZXJyb3IiLCJFcnJvciIsInVzZXIiLCJjb3JyZWN0UGFzc3dvcmQiLCJyZXR1cm5Vc2VyIiwidXNlcmlkIiwiZW1haWwiLCJmdWxsbmFtZSIsImdlbmRlciIsImRvYiIsInBlcnNvbmFsX2FjY291bnQiLCJwcm9mZXNzaW9uYWxfYWNjb3VudCIsInByb2ZpbGVUeXBlIiwicHJvZmlsZV90eXBlIiwicmVsZWFzZSIsImNhbGxiYWNrcyIsInRva2VuIiwidHJpZ2dlciIsImlkIiwidXNlcklkIiwiYWNjZXNzVG9rZW4iLCJzaWduIiwicHJvY2VzcyIsImVudiIsIk5FWFRBVVRIX1NFQ1JFVCIsImV4cGlyZXNJbiIsInVuZGVmaW5lZCIsInJlc3VsdCIsImZyZXNoVXNlciIsInN1YiIsInBhZ2VzIiwic2lnbkluIiwiaGFuZGxlciIsIkdFVCIsIlBPU1QiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/[...nextauth]/route.js\n");

/***/ }),

/***/ "(rsc)/../../packages/auth/src/index.js":
/*!****************************************!*\
  !*** ../../packages/auth/src/index.js ***!
  \****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("// import { verifyToken, generateToken } from './jwt';\n// import { authMiddleware } from './middleware';\n// import { hashPassword, comparePassword } from './passwords';\n\nconst { verifyToken, generateToken } = __webpack_require__(/*! ./jwt */ \"(rsc)/../../packages/auth/src/jwt.js\");\nconst { authMiddleware } = __webpack_require__(/*! ./middleware */ \"(rsc)/../../packages/auth/src/middleware.js\");\nconst { hashPassword, comparePassword } = __webpack_require__(/*! ./passwords */ \"(rsc)/../../packages/auth/src/passwords.js\");\nmodule.exports = {\n    generateToken,\n    verifyToken,\n    authMiddleware,\n    hashPassword,\n    comparePassword\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvYXV0aC9zcmMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUEsc0RBQXNEO0FBQ3RELGlEQUFpRDtBQUNqRCwrREFBK0Q7O0FBRS9ELE1BQU0sRUFBRUEsV0FBVyxFQUFFQyxhQUFhLEVBQUUsR0FBR0MsbUJBQU9BLENBQUMsbURBQU87QUFDdEQsTUFBTSxFQUFFQyxjQUFjLEVBQUUsR0FBR0QsbUJBQU9BLENBQUMsaUVBQWM7QUFDakQsTUFBTSxFQUFFRSxZQUFZLEVBQUVDLGVBQWUsRUFBRSxHQUFHSCxtQkFBT0EsQ0FBQywrREFBYTtBQUUvREksT0FBT0MsT0FBTyxHQUFHO0lBQ2JOO0lBQ0FEO0lBQ0FHO0lBQ0FDO0lBQ0FDO0FBQ0oiLCJzb3VyY2VzIjpbIi9Vc2Vycy9oYW5uYWhkcmFnYW5hL3JlcG9zL3N0YWdlL3BhY2thZ2VzL2F1dGgvc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCB7IHZlcmlmeVRva2VuLCBnZW5lcmF0ZVRva2VuIH0gZnJvbSAnLi9qd3QnO1xuLy8gaW1wb3J0IHsgYXV0aE1pZGRsZXdhcmUgfSBmcm9tICcuL21pZGRsZXdhcmUnO1xuLy8gaW1wb3J0IHsgaGFzaFBhc3N3b3JkLCBjb21wYXJlUGFzc3dvcmQgfSBmcm9tICcuL3Bhc3N3b3Jkcyc7XG5cbmNvbnN0IHsgdmVyaWZ5VG9rZW4sIGdlbmVyYXRlVG9rZW4gfSA9IHJlcXVpcmUoJy4vand0Jyk7XG5jb25zdCB7IGF1dGhNaWRkbGV3YXJlIH0gPSByZXF1aXJlKCcuL21pZGRsZXdhcmUnKTtcbmNvbnN0IHsgaGFzaFBhc3N3b3JkLCBjb21wYXJlUGFzc3dvcmQgfSA9IHJlcXVpcmUoJy4vcGFzc3dvcmRzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGdlbmVyYXRlVG9rZW4sXG4gICAgdmVyaWZ5VG9rZW4sXG4gICAgYXV0aE1pZGRsZXdhcmUsXG4gICAgaGFzaFBhc3N3b3JkLFxuICAgIGNvbXBhcmVQYXNzd29yZFxufTsiXSwibmFtZXMiOlsidmVyaWZ5VG9rZW4iLCJnZW5lcmF0ZVRva2VuIiwicmVxdWlyZSIsImF1dGhNaWRkbGV3YXJlIiwiaGFzaFBhc3N3b3JkIiwiY29tcGFyZVBhc3N3b3JkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/auth/src/index.js\n");

/***/ }),

/***/ "(rsc)/../../packages/auth/src/jwt.js":
/*!**************************************!*\
  !*** ../../packages/auth/src/jwt.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nconst jwt = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/../../node_modules/jsonwebtoken/index.js\");\nexports.generateToken = (payload, expiresIn = '1d')=>{\n    return jwt.sign(payload, process.env.JWT_SECRET, {\n        expiresIn\n    });\n};\nexports.verifyToken = (token)=>{\n    return jwt.verify(token, process.env.JWT_SECRET);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvYXV0aC9zcmMvand0LmpzIiwibWFwcGluZ3MiOiI7QUFBQSxNQUFNQSxNQUFNQyxtQkFBT0EsQ0FBQyxvRUFBYztBQUVsQ0MscUJBQXFCLEdBQUcsQ0FBQ0UsU0FBU0MsWUFBWSxJQUFJO0lBQ2hELE9BQU9MLElBQUlNLElBQUksQ0FBQ0YsU0FBU0csUUFBUUMsR0FBRyxDQUFDQyxVQUFVLEVBQUU7UUFBRUo7SUFBVTtBQUMvRDtBQUVBSCxtQkFBbUIsR0FBRyxDQUFDUztJQUNyQixPQUFPWCxJQUFJWSxNQUFNLENBQUNELE9BQU9KLFFBQVFDLEdBQUcsQ0FBQ0MsVUFBVTtBQUNqRCIsInNvdXJjZXMiOlsiL1VzZXJzL2hhbm5haGRyYWdhbmEvcmVwb3Mvc3RhZ2UvcGFja2FnZXMvYXV0aC9zcmMvand0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xuXG5leHBvcnRzLmdlbmVyYXRlVG9rZW4gPSAocGF5bG9hZCwgZXhwaXJlc0luID0gJzFkJykgPT4ge1xuICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCwgeyBleHBpcmVzSW4gfSk7XG59O1xuXG5leHBvcnRzLnZlcmlmeVRva2VuID0gKHRva2VuKSA9PiB7XG4gIHJldHVybiBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5KV1RfU0VDUkVUKTtcbn07Il0sIm5hbWVzIjpbImp3dCIsInJlcXVpcmUiLCJleHBvcnRzIiwiZ2VuZXJhdGVUb2tlbiIsInBheWxvYWQiLCJleHBpcmVzSW4iLCJzaWduIiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJ2ZXJpZnlUb2tlbiIsInRva2VuIiwidmVyaWZ5Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/auth/src/jwt.js\n");

/***/ }),

/***/ "(rsc)/../../packages/auth/src/middleware.js":
/*!*********************************************!*\
  !*** ../../packages/auth/src/middleware.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nconst { verifyToken } = __webpack_require__(/*! ./jwt */ \"(rsc)/../../packages/auth/src/jwt.js\");\nexports.authMiddleware = ()=>{\n    return (req, res, next)=>{\n        const authHeader = req.headers.authorization;\n        if (!authHeader || !authHeader.startsWith('Bearer ')) {\n            return res.status(401).json({\n                error: 'Unauthorised access'\n            });\n        }\n        const token = authHeader.split(' ')[1];\n        try {\n            const decoded = verifyToken(token);\n            req.user = decoded;\n            next();\n        } catch (error) {\n            return res.status(401).json({\n                error: 'Invalid or expired token'\n            });\n        }\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvYXV0aC9zcmMvbWlkZGxld2FyZS5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsTUFBTSxFQUFFQSxXQUFXLEVBQUUsR0FBR0MsbUJBQU9BLENBQUMsbURBQU87QUFFdkNDLHNCQUFzQixHQUFHO0lBQ3ZCLE9BQU8sQ0FBQ0UsS0FBS0MsS0FBS0M7UUFDaEIsTUFBTUMsYUFBYUgsSUFBSUksT0FBTyxDQUFDQyxhQUFhO1FBRTVDLElBQUksQ0FBQ0YsY0FBYyxDQUFDQSxXQUFXRyxVQUFVLENBQUMsWUFBWTtZQUNwRCxPQUFPTCxJQUFJTSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQXNCO1FBQzdEO1FBRUEsTUFBTUMsUUFBUVAsV0FBV1EsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBRXRDLElBQUk7WUFDRixNQUFNQyxVQUFVaEIsWUFBWWM7WUFDNUJWLElBQUlhLElBQUksR0FBR0Q7WUFDWFY7UUFDRixFQUFFLE9BQU9PLE9BQU87WUFDZCxPQUFPUixJQUFJTSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQTJCO1FBQ2xFO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2hhbm5haGRyYWdhbmEvcmVwb3Mvc3RhZ2UvcGFja2FnZXMvYXV0aC9zcmMvbWlkZGxld2FyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHZlcmlmeVRva2VuIH0gPSByZXF1aXJlKCcuL2p3dCcpO1xuXG5leHBvcnRzLmF1dGhNaWRkbGV3YXJlID0gKCkgPT4ge1xuICByZXR1cm4gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gICAgXG4gICAgaWYgKCFhdXRoSGVhZGVyIHx8ICFhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcmlzZWQgYWNjZXNzJyB9KTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyLnNwbGl0KCcgJylbMV07XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRlY29kZWQgPSB2ZXJpZnlUb2tlbih0b2tlbik7XG4gICAgICByZXEudXNlciA9IGRlY29kZWQ7XG4gICAgICBuZXh0KCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnSW52YWxpZCBvciBleHBpcmVkIHRva2VuJyB9KTtcbiAgICB9XG4gIH07XG59OyJdLCJuYW1lcyI6WyJ2ZXJpZnlUb2tlbiIsInJlcXVpcmUiLCJleHBvcnRzIiwiYXV0aE1pZGRsZXdhcmUiLCJyZXEiLCJyZXMiLCJuZXh0IiwiYXV0aEhlYWRlciIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwic3RhcnRzV2l0aCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInRva2VuIiwic3BsaXQiLCJkZWNvZGVkIiwidXNlciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/auth/src/middleware.js\n");

/***/ }),

/***/ "(rsc)/../../packages/auth/src/passwords.js":
/*!********************************************!*\
  !*** ../../packages/auth/src/passwords.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nconst bcrypt = __webpack_require__(/*! bcryptjs */ \"(rsc)/../../node_modules/bcryptjs/index.js\");\nexports.hashPassword = async (password)=>{\n    const salt = await bcrypt.genSalt(10);\n    return bcrypt.hash(password, salt);\n};\nexports.comparePassword = async (password, hashedPassword)=>{\n    return bcrypt.compare(password, hashedPassword);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvYXV0aC9zcmMvcGFzc3dvcmRzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSxNQUFNQSxTQUFTQyxtQkFBT0EsQ0FBQyw0REFBVTtBQUVqQ0Msb0JBQW9CLEdBQUcsT0FBT0U7SUFDNUIsTUFBTUMsT0FBTyxNQUFNTCxPQUFPTSxPQUFPLENBQUM7SUFDbEMsT0FBT04sT0FBT08sSUFBSSxDQUFDSCxVQUFVQztBQUMvQjtBQUVBSCx1QkFBdUIsR0FBRyxPQUFPRSxVQUFVSztJQUN6QyxPQUFPVCxPQUFPVSxPQUFPLENBQUNOLFVBQVVLO0FBQ2xDIiwic291cmNlcyI6WyIvVXNlcnMvaGFubmFoZHJhZ2FuYS9yZXBvcy9zdGFnZS9wYWNrYWdlcy9hdXRoL3NyYy9wYXNzd29yZHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKTtcblxuZXhwb3J0cy5oYXNoUGFzc3dvcmQgPSBhc3luYyAocGFzc3dvcmQpID0+IHtcbiAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTtcbiAgcmV0dXJuIGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0KTtcbn07XG5cbmV4cG9ydHMuY29tcGFyZVBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkLCBoYXNoZWRQYXNzd29yZCkgPT4ge1xuICByZXR1cm4gYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIGhhc2hlZFBhc3N3b3JkKTtcbn07Il0sIm5hbWVzIjpbImJjcnlwdCIsInJlcXVpcmUiLCJleHBvcnRzIiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0IiwiZ2VuU2FsdCIsImhhc2giLCJjb21wYXJlUGFzc3dvcmQiLCJoYXNoZWRQYXNzd29yZCIsImNvbXBhcmUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/auth/src/passwords.js\n");

/***/ }),

/***/ "(rsc)/../../packages/database/src/connection.js":
/*!*************************************************!*\
  !*** ../../packages/database/src/connection.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dotenv */ \"(rsc)/../../node_modules/dotenv/lib/main.js\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pg */ \"pg\");\n\ndotenv__WEBPACK_IMPORTED_MODULE_0__.config();\n\nconst { Pool } = pg__WEBPACK_IMPORTED_MODULE_1__;\nconsole.log(\"Initializing database connection with:\", {\n    host: process.env.PGHOST,\n    database: process.env.PGDATABASE\n});\nconsole.log(\"Database module loaded\");\nconst db = new Pool({\n    user: process.env.PGUSER,\n    host: process.env.PGHOST,\n    database: process.env.PGDATABASE,\n    password: process.env.PGPASSWORD,\n    port: process.env.PGPORT\n});\n// Test connection on module load \nconst testConnection = async ()=>{\n    try {\n        const client = await db.connect();\n        console.log(\"Test database connection successful\");\n        client.release();\n    } catch (error) {\n        console.error(\"Test database connection failed:\", error);\n    }\n};\ntestConnection();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (db); // import { Pool } from 'pg';\n // const postgresConnection = new Pool({\n //     connectionString: process.env.DATABASE_URL,\n //     ssl: {\n //         require: true,\n //         rejectUnauthorized: true\n //     }\n // });\n // export default postgresConnection;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvZGF0YWJhc2Uvc3JjL2Nvbm5lY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRCO0FBQzVCQSwwQ0FBYTtBQUVPO0FBQ3BCLE1BQU0sRUFBRUcsSUFBSSxFQUFFLEdBQUdELCtCQUFFQTtBQUVuQkUsUUFBUUMsR0FBRyxDQUFDLDBDQUEwQztJQUNsREMsTUFBTUMsUUFBUUMsR0FBRyxDQUFDQyxNQUFNO0lBQ3hCQyxVQUFVSCxRQUFRQyxHQUFHLENBQUNHLFVBQVU7QUFFcEM7QUFFQVAsUUFBUUMsR0FBRyxDQUFDO0FBRVosTUFBTU8sS0FBSyxJQUFJVCxLQUFLO0lBQ2hCVSxNQUFNTixRQUFRQyxHQUFHLENBQUNNLE1BQU07SUFDeEJSLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsTUFBTTtJQUN4QkMsVUFBVUgsUUFBUUMsR0FBRyxDQUFDRyxVQUFVO0lBQ2hDSSxVQUFVUixRQUFRQyxHQUFHLENBQUNRLFVBQVU7SUFDaENDLE1BQU1WLFFBQVFDLEdBQUcsQ0FBQ1UsTUFBTTtBQUM1QjtBQUVBLGtDQUFrQztBQUNsQyxNQUFNQyxpQkFBaUI7SUFDckIsSUFBSTtRQUNGLE1BQU1DLFNBQVMsTUFBTVIsR0FBR1MsT0FBTztRQUMvQmpCLFFBQVFDLEdBQUcsQ0FBQztRQUNaZSxPQUFPRSxPQUFPO0lBQ2hCLEVBQUUsT0FBT0MsT0FBTztRQUNkbkIsUUFBUW1CLEtBQUssQ0FBQyxvQ0FBb0NBO0lBQ3BEO0FBQ0Y7QUFFQUo7QUFFQSxpRUFBZVAsRUFBRUEsRUFBQyxDQUdsQiw2QkFBNkI7Q0FFN0Isd0NBQXdDO0NBQ3hDLGtEQUFrRDtDQUNsRCxhQUFhO0NBQ2IseUJBQXlCO0NBQ3pCLG1DQUFtQztDQUNuQyxRQUFRO0NBQ1IsTUFBTTtDQUVOLHFDQUFxQyIsInNvdXJjZXMiOlsiL1VzZXJzL2hhbm5haGRyYWdhbmEvcmVwb3Mvc3RhZ2UvcGFja2FnZXMvZGF0YWJhc2Uvc3JjL2Nvbm5lY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuZG90ZW52LmNvbmZpZygpO1xuXG5pbXBvcnQgcGcgZnJvbSAncGcnO1xuY29uc3QgeyBQb29sIH0gPSBwZztcblxuY29uc29sZS5sb2coXCJJbml0aWFsaXppbmcgZGF0YWJhc2UgY29ubmVjdGlvbiB3aXRoOlwiLCB7XG4gICAgaG9zdDogcHJvY2Vzcy5lbnYuUEdIT1NULFxuICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5QR0RBVEFCQVNFLFxuICAgIC8vIERvbid0IGxvZyBzZW5zaXRpdmUgaW5mbyBsaWtlIHBhc3N3b3JkXG59KTtcblxuY29uc29sZS5sb2coXCJEYXRhYmFzZSBtb2R1bGUgbG9hZGVkXCIpO1xuXG5jb25zdCBkYiA9IG5ldyBQb29sKHtcbiAgICB1c2VyOiBwcm9jZXNzLmVudi5QR1VTRVIsXG4gICAgaG9zdDogcHJvY2Vzcy5lbnYuUEdIT1NULFxuICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5QR0RBVEFCQVNFLFxuICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5QR1BBU1NXT1JELFxuICAgIHBvcnQ6IHByb2Nlc3MuZW52LlBHUE9SVCxcbn0pO1xuXG4vLyBUZXN0IGNvbm5lY3Rpb24gb24gbW9kdWxlIGxvYWQgXG5jb25zdCB0ZXN0Q29ubmVjdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBkYi5jb25uZWN0KCk7XG4gICAgY29uc29sZS5sb2coXCJUZXN0IGRhdGFiYXNlIGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bFwiKTtcbiAgICBjbGllbnQucmVsZWFzZSgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJUZXN0IGRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkOlwiLCBlcnJvcik7XG4gIH1cbn07XG5cbnRlc3RDb25uZWN0aW9uKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGRiO1xuXG5cbi8vIGltcG9ydCB7IFBvb2wgfSBmcm9tICdwZyc7XG5cbi8vIGNvbnN0IHBvc3RncmVzQ29ubmVjdGlvbiA9IG5ldyBQb29sKHtcbi8vICAgICBjb25uZWN0aW9uU3RyaW5nOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwsXG4vLyAgICAgc3NsOiB7XG4vLyAgICAgICAgIHJlcXVpcmU6IHRydWUsXG4vLyAgICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogdHJ1ZVxuLy8gICAgIH1cbi8vIH0pO1xuXG4vLyBleHBvcnQgZGVmYXVsdCBwb3N0Z3Jlc0Nvbm5lY3Rpb247Il0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsInBnIiwiUG9vbCIsImNvbnNvbGUiLCJsb2ciLCJob3N0IiwicHJvY2VzcyIsImVudiIsIlBHSE9TVCIsImRhdGFiYXNlIiwiUEdEQVRBQkFTRSIsImRiIiwidXNlciIsIlBHVVNFUiIsInBhc3N3b3JkIiwiUEdQQVNTV09SRCIsInBvcnQiLCJQR1BPUlQiLCJ0ZXN0Q29ubmVjdGlvbiIsImNsaWVudCIsImNvbm5lY3QiLCJyZWxlYXNlIiwiZXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/database/src/connection.js\n");

/***/ }),

/***/ "(rsc)/../../packages/database/src/index.js":
/*!********************************************!*\
  !*** ../../packages/database/src/index.js ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* reexport safe */ _connection_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _connection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./connection.js */ \"(rsc)/../../packages/database/src/connection.js\");\n// const connection = require('./connection');\n// // Export database connection and any other database utilities\n// module.exports = {\n//   db: connection,\n// };\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvZGF0YWJhc2Uvc3JjL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsOENBQThDO0FBRTlDLGlFQUFpRTtBQUNqRSxxQkFBcUI7QUFDckIsb0JBQW9CO0FBQ3BCLEtBQUs7QUFFNEI7QUFFbkIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9oYW5uYWhkcmFnYW5hL3JlcG9zL3N0YWdlL3BhY2thZ2VzL2RhdGFiYXNlL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb25zdCBjb25uZWN0aW9uID0gcmVxdWlyZSgnLi9jb25uZWN0aW9uJyk7XG5cbi8vIC8vIEV4cG9ydCBkYXRhYmFzZSBjb25uZWN0aW9uIGFuZCBhbnkgb3RoZXIgZGF0YWJhc2UgdXRpbGl0aWVzXG4vLyBtb2R1bGUuZXhwb3J0cyA9IHtcbi8vICAgZGI6IGNvbm5lY3Rpb24sXG4vLyB9O1xuXG5pbXBvcnQgZGIgZnJvbSAnLi9jb25uZWN0aW9uLmpzJztcblxuZXhwb3J0IHsgZGIgfTsiXSwibmFtZXMiOlsiZGIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/database/src/index.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/semver","vendor-chunks/openid-client","vendor-chunks/uuid","vendor-chunks/jsonwebtoken","vendor-chunks/oauth","vendor-chunks/jws","vendor-chunks/@panva","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/oidc-token-hash","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/dotenv","vendor-chunks/bcryptjs","vendor-chunks/safe-buffer","vendor-chunks/preact","vendor-chunks/ms","vendor-chunks/lodash.once","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isplainobject","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isinteger","vendor-chunks/lodash.isboolean","vendor-chunks/lodash.includes","vendor-chunks/jwa","vendor-chunks/cookie","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.js&appDir=%2FUsers%2Fhannahdragana%2Frepos%2Fstage%2Fapps%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhannahdragana%2Frepos%2Fstage%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();